<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="CodeGenApp.MainPage"
             Title="CodeGen App">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="12">

            <!-- Root path status -->
            <Label x:Name="RootPathLabel"
                   Text="Root: (not set)"
                   FontSize="12"
                   TextColor="Gray" />

            <BoxView HeightRequest="1"
                     Color="LightGray"
                     Margin="0,6" />

            <!-- Table + key names -->
            <Label Text="Table Name" />
            <Entry x:Name="TableNameEntry"
                   Placeholder="e.g. AGPlus" />

            <Label Text="Partition Key (PK)" />
            <Entry x:Name="PkNameEntry"
                   Placeholder="e.g. vendorid" />

            <Label Text="Sort Key (optional)" />
            <Entry x:Name="SkNameEntry"
                   Placeholder="e.g. sk" />

            <!-- On-demand vs provisioned -->
            <HorizontalStackLayout Spacing="10" Margin="0,10,0,0">
                <Label Text="On-Demand Billing" VerticalOptions="Center" />
                <Switch x:Name="OnDemandSwitch" IsToggled="True" />
            </HorizontalStackLayout>

            <BoxView HeightRequest="1"
                     Color="LightGray"
                     Margin="0,6" />

            <!-- Lambda base name -->
            <Label Text="Base Lambda Name" />
            <Entry x:Name="BaseLambdaEntry"
                   Placeholder="e.g. agplus" />

            <!-- Existing API (optional) -->
            <Label Text="Existing API URL or ID (optional)" />
            <Entry x:Name="AppNameEntry"
                   Placeholder="e.g. https://abc123.execute-api.us-east-2.amazonaws.com/prod or abc123" />

            <Label Text="Leave empty to create a NEW API. 
If you paste an existing API URL or ID, this table will ATTACH to that API."
                   FontSize="10"
                   TextColor="Gray" />

            <!-- Buttons -->
            <Button Text="Generate DynamoDB Terraform"
                    Margin="0,10,0,0"
                    Clicked="OnGenerateDynamoClicked" />

            <Button Text="Generate Lambda Python Files"
                    Margin="0,5,0,0"
                    Clicked="OnGenerateLambdaClicked" />

            <!-- CloudFormation helper -->
            <BoxView HeightRequest="1"
                     Color="LightGray"
                     Margin="0,10,0,0" />

            <Label Text="CloudFormation Stack Helper"
                   FontAttributes="Bold"
                   Margin="0,5,0,0" />

            <Button Text="Show list-stacks commands"
                    Margin="0,5,0,0"
                    Clicked="OnShowListStacksCommandsClicked" />

            <Label Text="Stack name to delete" />
            <Entry x:Name="StackNameToDeleteEntry"
                   Placeholder="e.g. AGStack-stack" />

            <Button Text="Show delete-stack commands"
                    Margin="0,5,0,0"
                    Clicked="OnShowDeleteStackCommandsClicked" />

            <Editor x:Name="StatusEditor"
                   Text="Ready."
                   TextColor="Green"
                   IsReadOnly="True"
                   AutoSize="TextChanges"
                   Focused="OnStatusEditorFocused"
                   Margin="0,15,0,0" />

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
